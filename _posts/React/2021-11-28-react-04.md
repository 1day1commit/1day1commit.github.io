---
layout: post
title: '[React 공식문서] JSX'

categories:
  - React

tags:
  - [React]

toc: true

permalink: /:title/

date: 2021-11-28T14:44:47+0900
last_modified_at: 2021-11-28T14:44:47+0900
---

<br>
<br>

# JSX

```jsx
const hi = <p>HI</p>;
```

위 코드는 JavaScript, HTML 둘 다 아닙니다.

위의 문법은 JSX 라고 불리는 JavaScript 확장 버전입니다. `javascript syntax extension` 이라고 합니다.

HTML 과 아주 비슷하게 생겼고 JavaScript 파일 내에서 작성할 수 있습니다.

JSX 는 원래의 JavaScript 문법이 아니기 떄문에 .js 파일 내에 JSX 문법이 있으면 브라우저에서 해석하지 못해 문법 오류가 발생합니다.

React.js 를 사용하기 위해 JSX 문법이 포함되어 있으면, 해당 파일을 정규 JavaScript 문법으로 변환시키는 컴파일 과정이 필요합니다. (Babel)

## 장점

1. HTML tag 를 그대로 사용하기 때문에 익숙합니다.
2. HTML 마크업과 JavaScript 로직을 같이 구현할 수 있습니다.
3. JavaScript 문법을 이용해서 HTML 을 생성할 수 있습니다. -> 별도의 HTML 파일이 필요하지 않게 됨
4. DOM + Event 의 작동방식과 비교했을 때 훨씬 간편하게 UI 를 구성할 수 있습니다.

<br>

## 특징

1. 모든 JSX 태그들은 하나의 부모태그로 감써져있어야 합니다. -> 필요없는 태그 사용을 막기위해 프래그먼트(fragments) 라는 문법을 제공해 줌
2. 모든 태그가 셀프 클로징 가능합니다.
3. JSX 에서는 모든 프로퍼티들을 camelCase 로 작성해야 합니다.
4. JavaScript 동작이 가능합니다.

<br>

# JSX를 사용하는 이유

React 는 **JSX 사용이 필수가 아니지만**, 대부분의 사람들은 JavaScript 코드 안에서 UI 관련 작업을 할 때 시각적으로 더 도움이 된다고 생각합니다. 또한 React가 더욱 도움이 되는 에러 및 경고 메시지를 표시할 수 있게 해줍니다.

<br>

# JSX에 표현식 포함하기

JSX의 중괄호 안에는 유효한 모든 **JavaScript 표현식**을 넣을 수 있습니다. 예를 들어 `2 + 2`, `user.firstName` 또는 `formatName(user)` 등은 모두 유효한 JavaScript 표현식입니다.

```jsx
function formatName(user) {
  return user.firstName + ' ' + user.lastName;
}

const user = {
  firstName: 'Harper',
  lastName: 'Perez'
};

const element = (
  <h1>
    Hello, {formatName(user)}!
  </h1>
);

ReactDOM.render(
  element,
  document.getElementById('root')
);
```

가독성을 좋게 하기 위해 JSX를 여러 줄로 나눴습니다. 필수는 아니지만, 이 작업을 수행할 때 **자동 세미콜론 삽입**을 피하고자 괄호로 묶는 것을 권장합니다.

<br>

# JSX도 표현식입니다

컴파일이 끝나면, JSX 표현식이 정규 JavaScript 함수 호출이 되고 JavaScript 객체로 인식됩니다.

즉, JSX를 `if` 구문 및 `for` loop 안에 사용하고, 변수에 할당하고, 인자로서 받아들이고, 함수로부터 반환할 수 있습니다.

```jsx
function getGreeting(user) {
  if (user) {
    return <h1>Hello, {formatName(user)}!</h1>;
  }
  return <h1>Hello, Stranger.</h1>;
}
```

<br>

# JSX 속성 정의

어트리뷰트에 따옴표를 이용해 문자열 리터럴을 정의할 수 있습니다.

```jsx
const element = <div tabIndex="0"></div>;
```

중괄호를 사용하여 어트리뷰트에 JavaScript 표현식을 삽입할 수도 있습니다.

```jsx
const element = <img src={user.avatarUrl}></img>;
```

<div class="notice" markdown="1">
JSX는 HTML보다는 JavaScript에 가깝기 때문에, React DOM은 HTML 어트리뷰트 이름 대신 **camelCase** 프로퍼티 명명 규칙을 사용합니다.

예를 들어, JSX에서 `class` 는 `className`이 되고 tabindex는 `tabIndex`가 됩니다.
</div>

<br>

# JSX로 자식 정의

태그가 비어있다면 `/>`를 이용해 바로 닫아주어야 합니다.

```jsx
const element = <img src={user.avatarUrl} />;
```

JSX 태그는 자식을 포함할 수 있습니다.

```jsx
const element = (
  <div>
    <h1>Hello!</h1>
    <h2>Good to see you here.</h2>
  </div>
);
```

<br>

# JSX는 주입 공격을 방지합니다.

JSX에 사용자 입력을 삽입하는 것은 안전합니다.

```jsx
const title = response.potentiallyMaliciousInput;
// 이것은 안전합니다.
const element = <h1>{title}</h1>;
```

기본적으로 React DOM은 JSX에 삽입된 모든 값을 렌더링하기 전에 **이스케이프** 하므로, 애플리케이션에서 명시적으로 작성되지 않은 내용은 주입되지 않습니다. 모든 항목은 렌더링 되기 전에 문자열로 변환됩니다. 이런 특성으로 인해 **XSS (cross-site-scripting)** 공격을 방지할 수 있습니다.

<br>

# JSX는 객체를 표현합니다.

Babel은 JSX를 `React.createElement()` 호출로 컴파일합니다.

다음 두 예시는 동일합니다.

```jsx
const element = (
  <h1 className="greeting">
    Hello, world!
  </h1>
);
```

```jsx
const element = React.createElement(
  'h1',
  {className: 'greeting'},
  'Hello, world!'
);
```

`React.createElement()`는 버그가 없는 코드를 작성하는 데 도움이 되도록 몇 가지 검사를 수행하며, 기본적으로 다음과 같은 객체를 생성합니다.

```jsx
// 주의: 다음 구조는 단순화되었습니다
const element = {
  type: 'h1',
  props: {
    className: 'greeting',
    children: 'Hello, world!'
  }
};
```

이러한 객체를 'React 엘리먼트'라고 하며, 화면에서 보고 싶은 것을 나타내는 표현이라 생각하면 됩니다. React는 이 객체를 읽어서, DOM을 구성하고 최신 상태로 유지하는 데 사용합니다.

<br>

# Reference

[리액트 공식문서](https://ko.reactjs.org/){:target="\_blank"}